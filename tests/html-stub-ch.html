<!doctype html>
<html>

<head>
    <title>Stub DOM</title>
    <link rel="stylesheet" type="text/css" href="../dist/styles.imageuploader.css" />
</head>

<body>
    <div class="js-uploader__box">
        <form action="" post="" class="js-fallback-form">
            <label for="fileinput">Select Files</label>
            <input type="file">
            <input type="submit" value="Upload Selected Files">
        </form>
    </div>
</body>

</html>
<script type="text/javascript" src="https://cdn.bootcdn.net/ajax/libs/jquery/1.10.0/jquery.min.js"></script>
<script type="text/javascript" src="../dist/jquery.imageuploader.js"></script>
<script type="text/javascript">
(function() {
    var options = {};
    $('.js-uploader__box').uploader({
        'selectButtonCopy': '请选择或拖拽文件',
        'instructionsCopy': '你可以选择或拖拽多个文件',
        'submitButtonCopy': '上传选择的文件',
        'furtherInstructionsCopy': '你可以选择或拖拽更多的文件',
        'secondarySelectButtonCopy': '选择更多的文件',
        'isFileTypeWhite': false,
        // 'fileTypeWhiteList': ['jpg', 'png', 'jpeg', 'gif', 'zip', 'exe', 'rar'],
        'badFileTypeMessage': '不支持的类型',
        'fileObjName': 'fileData',
        'formData': {},
        'fileSizeLimit': '200KB',
        'ajaxUrl': '/patch/fileLoad',
        'beforeAddFile': function(flie) {

          return true;
        },
        'onUploadError': function(errorMsg) {
            alert(errorMsg);
        },
        'onQueueComplete': function(res) {
            if (typeof res === 'string') {
                res = JSON.parse(res);
            }
            if (res.code !== 0) {
                alert(res.message);
                return;
            }

            console.log("上传完成！");
        }
    });
}());
</script>
